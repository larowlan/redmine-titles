#!/usr/bin/php
<?php
// This file is generated by Composer
require_once 'vendor/autoload.php';

$client = new Redmine\Client('https://redmine.previousnext.com.au', YOUR API KEY HERE);

if (empty($argv[1])) {
  echo "No issue number given";
  exit;
}
/** @var \Redmine\Api\Issue $issueManager */
$issueManager = $client->api('issue');
try {
  $issue = $issueManager->show($argv[1]);
  if (!empty($issue['issue']['subject'])) {
    echo $issue['issue']['subject'];
    exit;
  }
}
catch (\Exception $e) {}
echo 'Failed to get issue title';
exit;
